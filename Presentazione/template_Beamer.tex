\documentclass{beamer}
\usetheme{CambridgeUS}
\title{Foot classifier}
\subtitle{Progetto IC}
\author{Luigi Lomasto, Marco Mecchia}
\date{29 Febbraio 2016}
\usepackage[italian]{babel}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{pgf}
\usepackage{multimedia}
\usepackage{listings}
\usepackage{amsmath}

\begin{document}
	\begin{frame}
		\maketitle
		Prof. Roberto Tagliaferri \newline
		
		Dott. Michele Fratello\newline
		Dott. Paola Galdi \newline
		Dott. Angela Serra
		
	\end{frame}
	
\begin{frame}
	\frametitle{Outline}
	\tableofcontents
\end{frame}

\section{Introduzione al problema}

\begin{frame}
	\frametitle{Il problema}
	Dato un insieme di immagini piedebarometriche, classificare automaticamente le seguenti patologie:
	\newline
	 \begin{itemize}
	\item Cavo
	\item Piatto
	\item Normale
	\item Valgo
    \end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Patologie}
	\includegraphics[keepaspectratio,height=95px]{immagini/0_cleared.png}
	\includegraphics[keepaspectratio,height=95px]{immagini/1_cleared.png}
	\includegraphics[keepaspectratio,height=95px]{immagini/2_cleared.png}
\end{frame}

\section{Dataset}
\begin{frame}
	\frametitle{Struttura del dataset}
	Il dataset è costituito da 190 piedi (95 coppie) di cui:
	\begin{itemize}
		\item 121 Cavi
		\item 13 Piatti
		\item 56 Normali
	\end{itemize}
	per la prima classe di patologie, mentre:
	\begin{itemize}
		\item 88 Valghi
		\item 102 Normali
	\end{itemize}
	per la seconda classe di patologie.
\end{frame}

\section{Preprocessing}
\begin{frame}
	\frametitle{Panoramica}
	Nella fase di preprocessing, abbiamo eseguito le seguenti operazioni.
	\begin{itemize}
		\item Conversione delle immagini .bmp in .png.
		\item Pulizia delle immagini (rimozione del baricentro).
		\item Trasformazione delle immagini in scala di grigio.
		\item Divisione, rotazione e cropping dei piedi.
	\end{itemize}
	\centering
\end{frame}

\subsection{Trasformazione delle immagini}

\begin{frame}
	\frametitle{Trasformazione delle immagini}
	\begin{itemize}
		\item Trasformazione da uno spazio 3D (R,G,B) ad uno spazio 1D.
		\item Necessaria per valutare la pressione in un pixel dell'immagine.
		\item Problema: Come associare ad ogni tripla (R,G,B) il valore di intensit\'a corretto?
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Prima soluzione}
	\begin{itemize}
		\item Clustering sulle immagini.
		\item Trovati i centroidi, sostituire ogni pixel dell'immagine con il rappresentante del proprio cluster.
		\item Ordinare i centroidi per intensit\'a crescente e associare valori compresi tra 0 e 1.
		\item Problemi: Trovare il k adatto, trovare un ordinamento per i cluster.
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Soluzione definitiva}
	\begin{itemize}
		\item Variante della prima soluzione.
		\item Possibile grazie alla scala colorata delle pressioni fornita dal medico.
	\end{itemize}
	\begin{center}
		\includegraphics[keepaspectratio,width=300px]{immagini/color.png}
	\end{center}
\end{frame}

\subsection{Divisione, rotazione e cropping delle immagini}

\begin{frame}
	\frametitle{Rotazione e cropping delle immagini}	
	\begin{itemize}
		\item La divisione \'e stata necessaria per separare piede destro da piede sinistro.
		\item La rotazione non \'e strettamente necessaria.
		\item Il cropping rimuove la parte di sfondo superflua.
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Rotazione del piede}
	Abbiamo utilizzato l'algoritmo classico per la rotazione di una retta, cio\'e:
	\begin{enumerate}
		\item Trovare il punto dove applicare la rotazione.
		\item Calcolare il coeffieciente angolare della retta.
		\item Applicare la rotazione.
	\end{enumerate}

	Nel nostro caso, abbiamo usato la retta che congiunge i due punti di massima pressione, e l'estremo in basso del tallone.
\end{frame}

\section{Feature extraction}
\begin{frame}
	\frametitle{Feature extraction}
	\begin{itemize}
		\item Necessaria per via della natura delle immagini.
		\item Trasformazione in uno spazio standard non nota in letteratura.
	\end{itemize}

	Abbiamo implementato algoritmi ad-hoc per l'estrazione delle features. 
	\newline
	Dovendo lavorare con due classificatori:
	\begin{itemize} 
		\item Cavo vs piatto vs normale.
		\item Valgo vs varo vs normale.
    \end{itemize} 
   
   sono stati implementati due algoritmi per estrarre le caratteristiche diverse.
\end{frame}

\subsection{Features primo classificatore}
\begin{frame}
	\frametitle{Features primo classificatore (1/2)}
	Le features estratte per le patologie appartenenti alla prima classe sono le seguenti:
	\begin{itemize}
		\item \textbf{lengthMinIstmo:} esprime la lunghezza minima che assume l'istmo.
		\item \textbf{lengthMediaIstmo:} esprime la lunghezza media dell'istmo.
		\item \textbf{lengthMaxAvampiede:} esprime la massima lunghezza che assume l'avampiede.
		\item \textbf{indexPathology:} Si ottiene dal rapporto $\frac{lengthMaxAvampiede}{lengthMinIstmo}$
		\item \textbf{mediumPressure:} Indica la pressione media esercitata dal piede.
	\end{itemize}
	
\end{frame}
\begin{frame}
	\frametitle{Features primo classificatore (2/2)}
    \centering
     \includegraphics[keepaspectratio,height=220px]{immagini/Immagine.png}
\end{frame}

\subsection{Features secondo classificatore}
\begin{frame}
	\frametitle{Features secondo classificatore (1/2)}
	Le features estratte per le patologie appartenenti alla seconda classe sono le seguenti:
	\begin{itemize}
		\item \textbf{approssimated:} vale 0 se la differenza tra il punto di massima pressione del tallone ed il centro del tallone \'e $ \leq 10$.
		\item \textbf{leftDistance:} esprime la distanza del punto di massima pressione del tallone dall'estremo sinistro.
		\item \textbf{rightDistance:} esprime la distanza del punto di massima pressione del tallone dall'estremo destro.
	\end{itemize}
	
\end{frame}
\begin{frame}
	\frametitle{Features secondo classificatore (2/2)}
immagine
	
\end{frame}
\section{Feature Selection}
\begin{frame}
	\frametitle{Feature Selection}
	La features selection è stata fatta in modo esaustivo, utilizzando le performance del classificatore come metro di giudizio.
	\newline
	\newline
	\newline
	Motivi:
	\begin{itemize}
		\item Basso numero di features usate.
		\item Si valutano tutti i possibili sottoinsiemi di features.
		\newline
	\end{itemize}
	Sottoinsiemi valutati:
	\begin{itemize}
		\item 31 per il primo classificatore.
		\item 15 per il secondo classificatore.
	\end{itemize}
	
\end{frame}

\section{Scelta dei classificatori}

\begin{frame}
	\frametitle{Classificatori}
  \textbf{SVM Gaussiano (Radial-Basis-Function)}.\newline \newline
  Scelta dovuta ai seguenti motivi :
  	\begin{itemize}
  		\item RBF ben di adatta a problemi di classificazione dove il dataset è significativamente più grande rispetto al numero di dimensioni.
  		\item Reti Neurali troppo complesse per il problema affrontato.
  		\item SVM lineare generalmente usato quando si ha alta dimensionalità. 
  		\newline 
  	\end{itemize}
  	
  	\textbf{SVM Lineare}.\newline \newline
  	Motivo:
  	\begin{itemize}
  		\item Per la prima classe di problemi abbiamo individuato delle features con le quali è possibile generare un iperpiano di separazione.
  	\end{itemize}
	
\end{frame}


\begin{frame}
	\frametitle{SVM Lineare}
	\begin{itemize}
		\item Un classificatore SVM costruisce un iperpiano (o
		  insieme di iperpiani) che può essere usato per fare
		classificazione.
	   \item Una buona separazione è data dall'iperpiano che
		  massimizza la distanza dal punto dei dati più vicino
	\end{itemize}
	\centering{ \includegraphics[keepaspectratio,height=120px]{immagini/lineare.png}}
\end{frame}


\begin{frame}
	\frametitle{Kernel}
	Spesso si ha a che fare con classi non separabili
	linearmente.
	\newline
	\newline
	\textbf{Kernel:}Rendono utilizzabili modelli lineari con dati non
	linearmente separabili
	\begin{itemize} 
	\item  Mapping dei dati in dimensioni più alte
	\item Applicano un modello lineare nel nuovo spazio
	\end{itemize}
	
    \centering{ \includegraphics[keepaspectratio,height=120px]{immagini/nonSepara.png}}
    
  
	
\end{frame}

\begin{frame}
	\frametitle{Kernel RBF (Radial-Basis-Function) }
		\textbf{Kernel RBF:} $ k(x, z)=  exp(-\gamma || x_{i} - x ||^{2}) $ 
	\newline \newline
	Per scegliere la configurazione ottimale abbiamo testato tutte le possibili combinazioni con:
	\begin{itemize}
		
		\item $10^{-3}<C<10^3$
		\item   $ 10^{-2}<\gamma<10^0 $
		\end{itemize}
\end{frame}

\section{Infrastruttura}
\begin{frame}
	\frametitle{Infrastruttura}
	L'infrastruttura progettata è la seguente:
	\begin{itemize}
		\item $ \forall $ Sottoinsieme di features
		\begin{itemize}
			\item Per N volte
			\begin{itemize}
				\item Dividiamo il dataset in training set e test set.
				\item Applichiamo cross validation sul training set per stimare la configurazione migliore.
				\item Calcolo delle accuratezze sul test.
			\end{itemize}
			\item Calcolo delle accuratezze medie.
		\end{itemize}
	\end{itemize}
	Il sottoinsieme scelto è quello con accuratezza totale media più alta.
\end{frame}

\begin{frame}
	\frametitle{Scelta della migliore configurazione: T-test}
     Per valutare la migliore configurazione ci siamo serviti del T-test.
     
     \begin{itemize}
     	\item Per ogni configurazione abbiamo ottenuto una distribuzione di accuratezze. 
     	\item T-test tra ogni configurazione e la successiva per studiarne la significatività.
     	\item Se c'è significatività, (differenza non casuale) si prende la configurazione con accuratezza media più alta.
     \end{itemize}
\end{frame}

\section{Risultati}

\subsection{Primo classificatore}
\begin{frame}
	\frametitle{BoxPlot delle features per i piedi Cavi}
	\centering{
	\includegraphics[keepaspectratio,height=190px]{immagini/BPcavi.jpg}}
	
	
\end{frame}
\begin{frame}
	\frametitle{BoxPlot delle features per i piedi Piatti}
	\centering{
		\includegraphics[keepaspectratio,height=190px]{immagini/BPpiatti.jpg}}
	
	
\end{frame}
\begin{frame}
	\frametitle{BoxPlot delle features per i piedi Normali}
	\centering{
		\includegraphics[keepaspectratio,height=190px]{immagini/BPnormali.jpg}}
	
	
\end{frame}
\subsection{Secondo classificatore}


\section{Conclusioni}

\end{document}
